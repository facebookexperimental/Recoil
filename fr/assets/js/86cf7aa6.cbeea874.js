"use strict";(self.webpackChunkrecoil=self.webpackChunkrecoil||[]).push([[4831],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return d}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var u=r.createContext({}),c=function(e){var t=r.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=c(e.components);return r.createElement(u.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,u=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),m=c(n),d=o,f=m["".concat(u,".").concat(d)]||m[d]||p[d]||a;return n?r.createElement(f,i(i({ref:t},s),{},{components:n})):r.createElement(f,i({ref:t},s))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=m;var l={};for(var u in t)hasOwnProperty.call(t,u)&&(l[u]=t[u]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var c=2;c<a;c++)i[c]=n[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},37:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return i},contentTitle:function(){return l},metadata:function(){return u},toc:function(){return c},default:function(){return p}});var r=n(2122),o=n(9756),a=(n(7294),n(3905)),i={title:"useRecoilState(state)",sidebar_label:"useRecoilState()"},l=void 0,u={unversionedId:"api-reference/core/useRecoilState",id:"api-reference/core/useRecoilState",isDocsHomePage:!1,title:"useRecoilState(state)",description:"Renvoie un tuple o\xf9 le premier \xe9l\xe9ment est la valeur de l'\xe9tat et le deuxi\xe8me \xe9l\xe9ment est une fonction de d\xe9finition qui mettra \xe0 jour la valeur de l'\xe9tat donn\xe9 lorsqu'elle est appel\xe9e.",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/api-reference/core/useRecoilState.md",sourceDirName:"api-reference/core",slug:"/api-reference/core/useRecoilState",permalink:"/fr/docs/api-reference/core/useRecoilState",editUrl:"https://github.com/facebookexperimental/Recoil/edit/docs/docs/i18n/fr/docusaurus-plugin-content-docs/current/api-reference/core/useRecoilState.md",version:"current",frontMatter:{title:"useRecoilState(state)",sidebar_label:"useRecoilState()"},sidebar:"docs",previous:{title:"Loadable",permalink:"/fr/docs/api-reference/core/Loadable"},next:{title:"useRecoilValue()",permalink:"/fr/docs/api-reference/core/useRecoilValue"}},c=[{value:"Exemple",id:"exemple",children:[]}],s={toc:c};function p(e){var t=e.components,n=(0,o.Z)(e,["components"]);return(0,a.kt)("wrapper",(0,r.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Renvoie un tuple o\xf9 le premier \xe9l\xe9ment est la valeur de l'\xe9tat et le deuxi\xe8me \xe9l\xe9ment est une fonction de d\xe9finition qui mettra \xe0 jour la valeur de l'\xe9tat donn\xe9 lorsqu'elle est appel\xe9e."),(0,a.kt)("p",null,"Ce hook abonnera implicitement le composant \xe0 l'\xe9tat donn\xe9."),(0,a.kt)("hr",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},"function useRecoilState<T>(state: RecoilState<T>): [T, SetterOrUpdater<T>];\n\ntype SetterOrUpdater<T> = (T | (T => T)) => void;\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"state"),": un ",(0,a.kt)("a",{parentName:"li",href:"/docs/api-reference/core/atom"},(0,a.kt)("inlineCode",{parentName:"a"},"atome"))," ou un ",(0,a.kt)("a",{parentName:"li",href:"/docs/api-reference/core/selector"},(0,a.kt)("inlineCode",{parentName:"a"},"selecteur"))," ",(0,a.kt)("em",{parentName:"li"},"inscriptible"),". Les s\xe9lecteurs inscriptibles sont des s\xe9lecteurs qui ont \xe0 la fois un ",(0,a.kt)("inlineCode",{parentName:"li"},"get")," et un ",(0,a.kt)("inlineCode",{parentName:"li"},"set")," dans leur d\xe9finition tandis que les s\xe9lecteurs en lecture seule n'ont qu'un ",(0,a.kt)("inlineCode",{parentName:"li"},"get"),".")),(0,a.kt)("p",null,"Cette API est similaire au hook React ",(0,a.kt)("a",{parentName:"p",href:"https://reactjs.org/docs/hooks-reference.html#usestate"},(0,a.kt)("inlineCode",{parentName:"a"},"useState()"))," sauf qu'il prend un \xe9tat Recoil au lieu d'une valeur par d\xe9faut comme argument. Il retourne un tuple de la valeur actuelle de l'\xe9tat et une fonction de d\xe9finition. La fonction de d\xe9finition peut prendre une nouvelle valeur comme argument ou une fonction de mise \xe0 jour qui re\xe7oit la valeur pr\xe9c\xe9dente en tant que param\xe8tre."),(0,a.kt)("hr",null),(0,a.kt)("p",null,"Il s'agit du hook recommand\xe9 \xe0 utiliser lorsqu'un composant a l'intention de lire et d'\xe9crire l'\xe9tat."),(0,a.kt)("p",null,"L'utilisation de ce hook dans un composant React abonnera le composant \xe0 restituer lorsque l'\xe9tat est mis \xe0 jour. Ce hook peut d\xe9clencher si l'\xe9tat a une erreur ou est en attente de r\xe9solution asynchrone. Veuillez consulter ",(0,a.kt)("a",{parentName:"p",href:"/docs/guides/asynchronous-data-queries"},"ce guide"),"."),(0,a.kt)("h3",{id:"exemple"},"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},"import {atom, selector, useRecoilState} from 'recoil';\n\nconst tempFahrenheit = atom({\n  key: 'tempFahrenheit',\n  default: 32,\n});\n\nconst tempCelsius = selector({\n  key: 'tempCelsius',\n  get: ({get}) => ((get(tempFahrenheit) - 32) * 5) / 9,\n  set: ({set}, newValue) => set(tempFahrenheit, (newValue * 9) / 5 + 32),\n});\n\nfunction TempCelsius() {\n  const [tempF, setTempF] = useRecoilState(tempFahrenheit);\n  const [tempC, setTempC] = useRecoilState(tempCelsius);\n\n  const addTenCelsius = () => setTempC(tempC + 10);\n  const addTenFahrenheit = () => setTempF(tempF + 10);\n\n  return (\n    <div>\n      Temp (Celsius): {tempC}\n      <br />\n      Temp (Fahrenheit): {tempF}\n      <br />\n      <button onClick={addTenCelsius}>Ajouter 10 Celsius</button>\n      <br />\n      <button onClick={addTenFahrenheit}>Ajouter 10 Fahrenheit</button>\n    </div>\n  );\n}\n")))}p.isMDXComponent=!0}}]);