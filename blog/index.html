<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Recoil RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Recoil Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="Recoil JSON Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-44373548-46","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Recoil" href="/opensearch.xml"><title data-react-helmet="true">Blog | Recoil</title><meta data-react-helmet="true" property="og:title" content="Blog | Recoil"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://recoiljs.org/img/og-image.png"><meta data-react-helmet="true" name="twitter:image" content="https://recoiljs.org/img/og-image.png"><meta data-react-helmet="true" name="description" content="Blog"><meta data-react-helmet="true" property="og:description" content="Blog"><meta data-react-helmet="true" property="og:url" content="https://recoiljs.org/blog"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-react-helmet="true" rel="icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://recoiljs.org/blog"><link data-react-helmet="true" rel="alternate" href="https://recoiljs.org/blog" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://recoiljs.org/fr/blog" hreflang="fr"><link data-react-helmet="true" rel="alternate" href="https://recoiljs.org/ko/blog" hreflang="ko"><link data-react-helmet="true" rel="alternate" href="https://recoiljs.org/zh-hans/blog" hreflang="zh-hans"><link data-react-helmet="true" rel="alternate" href="https://recoiljs.org/blog" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.7b6ec902.css">
<link rel="preload" href="/assets/js/runtime~main.989f1cdb.js" as="script">
<link rel="preload" href="/assets/js/main.a8049dbb.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Recoil" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo--dark.svg" alt="Recoil" class="themedImage_TMUO themedImage--dark_uzRr"></div></a><a class="navbar__item navbar__link" href="/docs/introduction/installation">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/docs/recoil-sync/introduction">Recoil Sync</a><a class="navbar__item navbar__link" href="/docs/refine/Introduction">Refine</a><a class="navbar__item navbar__link" href="/resources">External Resources</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebookexperimental/Recoil" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" class="iconLanguage_EbrZ"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/blog" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">English</a></li><li><a href="/fr/blog" target="_self" rel="noopener noreferrer" class="dropdown__link">FranÃ§ais</a></li><li><a href="/ko/blog" target="_self" rel="noopener noreferrer" class="dropdown__link">í•œêµ­ì–´</a></li><li><a href="/zh-hans/blog" target="_self" rel="noopener noreferrer" class="dropdown__link">ç®€ä½“ä¸­æ–‡</a></li></ul></div><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div><div class="searchBox_Utm0"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-list-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_q+wC thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_9G5K margin-bottom--md">Recent posts</div><ul class="sidebarItemList_6T4b"><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/01/28/0.6.0-release">Recoil 0.6</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2021/11/03/0.5.0-release">Recoil 0.5</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2021/08/26/0.4.1-release">Recoil 0.4.1</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2021/07/30/0.4.0-release">Recoil 0.4</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2021/05/14/0.3.0-released">Recoil 0.3</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_d4p0" itemprop="headline"><a itemprop="url" href="/blog/2022/01/28/0.6.0-release">Recoil 0.6</a></h2><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2022-01-28T00:00:00.000Z" itemprop="datePublished">January 28, 2022</time> Â· <!-- -->4 min read</div></header><div class="markdown" itemprop="articleBody"><p>Recoil 0.6 introduces improved support for React 18, including concurrent rendering and transitions, along with new APIs, fixes, and optimizations.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="react-18">React 18<a class="hash-link" href="#react-18" title="Direct link to heading">â€‹</a></h2><p>Recoil 0.6 uses the latest APIs from React 18 for improved safety and performance.  This release is compatible with <a href="https://reactjs.org/blog/2021/06/08/the-plan-for-react-18.html#whats-coming-in-react-18" target="_blank" rel="noopener noreferrer">concurrent rendering</a> and <a href="https://reactjs.org/docs/strict-mode.html" target="_blank" rel="noopener noreferrer"><code>&lt;React.StrictMode&gt;</code></a>, which is useful for testing and identifying potential issues for concurrent rendering.  Making Recoil and React state changes in the same batch now stay in sync to provided a consistent view of state.  Some of these improvements are also available while using previous versions of React.  <em>When experimenting with React 18 please use the latest RC build, as the original React <code>18.0.0-rc.0</code> package has a bug that has since been fixed.</em></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="concurrent-rendering-and-transitions">Concurrent Rendering and Transitions<a class="hash-link" href="#concurrent-rendering-and-transitions" title="Direct link to heading">â€‹</a></h3><p>React 18 offers a new hook <a href="https://reactjs.org/docs/concurrent-mode-patterns.html#transitions" target="_blank" rel="noopener noreferrer"><code>useTransition()</code></a> for transitioning to a new state while having control over what to render before the new state is ready.  Recoil should be compatible with this approach and provides a consistent view with React state.  However, React 18 may fallback from concurrent updates and does not yet officially support initiating transitions based on state changes to external stores.  This is something the React team is looking into supporting, but until then we have added experimental support for this through the following hooks.  This API is considered experimental because there may be use cases we havenâ€™t found which are not handled.</p><ul><li><code>useRecoilState_TRANSITION_SUPPORT_UNSTABLE()</code></li><li><code>useRecoilValue_TRANSITION_SUPPORT_UNSTABLE()</code></li><li><code>useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE()</code></li></ul><p>Here&#x27;s an example that displays the current results while a new result is loading:</p><div class="codeBlockContainer_J+bg language-jsx theme-code-block"><div class="codeBlockContent_csEI jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">QueryResults</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> queryParams </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">useRecoilValue_TRANSITION_SUPPORT_UNSTABLE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">queryParamsAtom</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> results </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">useRecoilValue_TRANSITION_SUPPORT_UNSTABLE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">myQuerySelector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">queryParams</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> results</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">MyApp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">queryParams</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> setQueryParams</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">useRecoilState_TRANSITION_SUPPORT_UNSTABLE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">queryParamsAtom</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">inTransition</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> startTransition</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">useTransition</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">div</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">inTransition </span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token plain"> </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">div</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">Loading </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">results</span><span class="token class-name punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token class-name punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token class-name punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">div</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      Results</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag class-name" style="color:rgb(255, 203, 107)">React.Suspense</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag class-name" style="color:rgb(255, 203, 107)">QueryResults</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag class-name" style="color:rgb(255, 203, 107)">React.Suspense</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">button</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        onClick</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token function" style="color:rgb(130, 170, 255)">startTransition</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token function" style="color:rgb(130, 170, 255)">setQueryParams</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">...</span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">params</span><span class="token class-name punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token class-name punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token class-name punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Start New Query</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">button</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">div</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="new-features">New Features<a class="hash-link" href="#new-features" title="Direct link to heading">â€‹</a></h2><ul><li>Recoil Callbacks<ul><li><a href="/docs/api-reference/core/useRecoilCallback"><code>useRecoilCallback()</code></a> can now also refresh selector caches, similar to <a href="/docs/api-reference/core/useRecoilRefresher"><code>useRecoilRefresher_UNSTABLE()</code></a>. (<a href="https://github.com/facebookexperimental/Recoil/pull/1413" target="_blank" rel="noopener noreferrer">#1413</a>)</li><li>Callbacks from selectors using <a href="/docs/api-reference/core/selector#returning-objects-with-callbacks"><code>getCallback()</code></a> can now mutate, refresh, and transact state in addition to reading it, similar to <a href="/docs/api-reference/core/useRecoilCallback"><code>useRecoilCallback()</code></a>. (<a href="https://github.com/facebookexperimental/Recoil/pull/1498" target="_blank" rel="noopener noreferrer">#1498</a>)</li></ul></li><li>Store IDs - A <code>StoreID</code> can now be obtained using <a href="/docs/api-reference/core/useRecoilStoreID"><code>useRecoilStoreID()</code></a> (<a href="https://github.com/facebookexperimental/Recoil/pull/1417" target="_blank" rel="noopener noreferrer">#1417</a>) or the <code>storeID</code> parameter in <a href="/docs/guides/atom-effects">atom effects</a>  (<a href="https://github.com/facebookexperimental/Recoil/pull/1414" target="_blank" rel="noopener noreferrer">#1414</a>).</li><li><a href="/docs/api-reference/core/Loadable#examples"><code>RecoilLoadable.of()</code></a> and <a href="/docs/api-reference/core/Loadable#examples"><code>RecoilLoadable.all()</code></a> factories now accept either literal values, async Promises, or Loadables.  This is comparable to <code>Promise.resolve()</code> and <code>Promise.all()</code>  (<a href="https://github.com/facebookexperimental/Recoil/pull/1455" target="_blank" rel="noopener noreferrer">#1455</a>, <a href="https://github.com/facebookexperimental/Recoil/pull/1442" target="_blank" rel="noopener noreferrer">#1442</a>).</li><li>Add <code>.isRetained()</code> method for Snapshots and check if snapshot is already released when using <code>.retain()</code> in development (<a href="https://github.com/facebookexperimental/Recoil/pull/1546" target="_blank" rel="noopener noreferrer">#1546</a>)</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="breaking-changes">Breaking Changes<a class="hash-link" href="#breaking-changes" title="Direct link to heading">â€‹</a></h2><ul><li>Atom Effects<ul><li>Rename option from <code>effects_UNSTABLE</code> to just <code>effects</code>, as the interface is mostly stabilizing. (<a href="https://github.com/facebookexperimental/Recoil/pull/1520" target="_blank" rel="noopener noreferrer">#1520</a>)</li><li><a href="/docs/guides/atom-effects">Atom effect</a> initializations takes precedence over <code>&lt;RecoilRoot initializeState={...}&gt;</code>. (<a href="https://github.com/facebookexperimental/Recoil/pull/1509" target="_blank" rel="noopener noreferrer">#1509</a>)</li></ul></li><li><code>useGetRecoilValueInfo_UNSTABLE()</code> and <code>Snapshot#getInfo_UNSTABLE()</code> always report the node <code>type</code>. (<a href="https://github.com/facebookexperimental/Recoil/pull/1547" target="_blank" rel="noopener noreferrer">#1547</a>)</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="other-fixes-and-optimizations">Other Fixes and Optimizations<a class="hash-link" href="#other-fixes-and-optimizations" title="Direct link to heading">â€‹</a></h2><ul><li>Reduce overhead of snapshot cloning<ul><li>Only clone the current snapshot for callbacks if the callback actually uses it. (<a href="https://github.com/facebookexperimental/Recoil/pull/1501" target="_blank" rel="noopener noreferrer">#1501</a>)</li><li>Cache the cloned snapshots from callbacks unless there was a state change. (<a href="https://github.com/facebookexperimental/Recoil/pull/1533" target="_blank" rel="noopener noreferrer">#1533</a>)</li></ul></li><li>Fix transitive selector refresh for some cases (<a href="https://github.com/facebookexperimental/Recoil/pull/1409" target="_blank" rel="noopener noreferrer">#1409</a>)</li><li>Fix some corner cases with async selectors and multiple stores (<a href="https://github.com/facebookexperimental/Recoil/pull/1568" target="_blank" rel="noopener noreferrer">#1568</a>)</li><li>Atom effects<ul><li>Run atom effects when atoms are initialized from a <code>set()</code> during a transaction from <a href="/docs/api-reference/core/useRecoilTransaction"><code>useRecoilTransaction_UNSTABLE()</code></a> (<a href="https://github.com/facebookexperimental/Recoil/pull/1466" target="_blank" rel="noopener noreferrer">#1466</a>, <a href="https://github.com/facebookexperimental/Recoil/pull/1569" target="_blank" rel="noopener noreferrer">#1569</a>)</li><li>Atom effects are cleaned up when initialized by a Snapshot which is released. (<a href="https://github.com/facebookexperimental/Recoil/pull/1511" target="_blank" rel="noopener noreferrer">#1511</a>, <a href="https://github.com/facebookexperimental/Recoil/pull/1532" target="_blank" rel="noopener noreferrer">#1532</a>)</li><li>Unsubscribe <code>onSet()</code> handlers in atom effects when atoms are cleaned up. (<a href="https://github.com/facebookexperimental/Recoil/pull/1509" target="_blank" rel="noopener noreferrer">#1509</a>)</li><li>Call <code>onSet()</code> when atoms are initialized with <code>&lt;RecoilRoot initializeState={...} &gt;</code> (<a href="https://github.com/facebookexperimental/Recoil/pull/1519" target="_blank" rel="noopener noreferrer">#1519</a>, <a href="https://github.com/facebookexperimental/Recoil/pull/1511" target="_blank" rel="noopener noreferrer">#1511</a>)</li></ul></li><li>Avoid extra re-renders in some cases when a component uses a different atom/selector. (<a href="https://github.com/facebookexperimental/Recoil/pull/825" target="_blank" rel="noopener noreferrer">#825</a>)</li><li><code>&lt;RecoilRoot&gt;</code> will only call <code>initializeState()</code> once during the initial render. (<a href="https://github.com/facebookexperimental/Recoil/pull/1372" target="_blank" rel="noopener noreferrer">#1372</a>)</li><li>Lazily compute and memoize the results of lazy properties, such as from <code>useGetRecoilValueInfo()</code> or <code>Snapshot#getInfo_UNSTABLE()</code>. (<a href="https://github.com/facebookexperimental/Recoil/pull/1548" target="_blank" rel="noopener noreferrer">#1548</a>, <a href="https://github.com/facebookexperimental/Recoil/pull/1549" target="_blank" rel="noopener noreferrer">#1549</a>)</li></ul></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_d4p0" itemprop="headline"><a itemprop="url" href="/blog/2021/11/03/0.5.0-release">Recoil 0.5</a></h2><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2021-11-03T00:00:00.000Z" itemprop="datePublished">November 3, 2021</time> Â· <!-- -->One min read</div></header><div class="markdown" itemprop="articleBody"><p>Welcome to Recoil 0.5 with a few new APIs and improvements.</p></div><footer class="row docusaurus-mt-lg"><div class="col text--right"><a aria-label="Read more about Recoil 0.5" href="/blog/2021/11/03/0.5.0-release"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_d4p0" itemprop="headline"><a itemprop="url" href="/blog/2021/08/26/0.4.1-release">Recoil 0.4.1</a></h2><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2021-08-26T00:00:00.000Z" itemprop="datePublished">August 26, 2021</time> Â· <!-- -->One min read</div></header><div class="markdown" itemprop="articleBody"><p>Recoil 0.4.1 has been released with some performance optimizations and fixes focused on optimizing when React will re-render components based on Recoil state changes.</p></div><footer class="row docusaurus-mt-lg"><div class="col text--right"><a aria-label="Read more about Recoil 0.4.1" href="/blog/2021/08/26/0.4.1-release"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_d4p0" itemprop="headline"><a itemprop="url" href="/blog/2021/07/30/0.4.0-release">Recoil 0.4</a></h2><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2021-07-30T00:00:00.000Z" itemprop="datePublished">July 30, 2021</time> Â· <!-- -->4 min read</div></header><div class="markdown" itemprop="articleBody"><p>We are pleased to announce the release of Recoil 0.4 with configurable selector caches, improved API for transactions with multiple atoms, and other optimizations and fixes.</p></div><footer class="row docusaurus-mt-lg"><div class="col text--right"><a aria-label="Read more about Recoil 0.4" href="/blog/2021/07/30/0.4.0-release"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_d4p0" itemprop="headline"><a itemprop="url" href="/blog/2021/05/14/0.3.0-released">Recoil 0.3</a></h2><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2021-05-14T00:00:00.000Z" itemprop="datePublished">May 14, 2021</time> Â· <!-- -->2 min read</div></header><div class="markdown" itemprop="articleBody"><p>We are pleased to announce the release of Recoil 0.3 with more flexible RecoilRoot nesting, callback generation, preparation for memory management, optimizations, and bug fixes.</p></div><footer class="row docusaurus-mt-lg"><div class="col text--right"><a aria-label="Read more about Recoil 0.3" href="/blog/2021/05/14/0.3.0-released"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_d4p0" itemprop="headline"><a itemprop="url" href="/blog/2021/03/22/0.2.0-released">Recoil 0.2</a></h2><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2021-03-22T00:00:00.000Z" itemprop="datePublished">March 22, 2021</time> Â· <!-- -->4 min read</div></header><div class="markdown" itemprop="articleBody"><p>We are pleased to announce the release of Recoil 0.2.0. This release has a new, more reliable implementation of async selectors, greatly improved performance, and many bug fixes and improvements.</p></div><footer class="row docusaurus-mt-lg"><div class="col text--right"><a aria-label="Read more about Recoil 0.2" href="/blog/2021/03/22/0.2.0-released"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_d4p0" itemprop="headline"><a itemprop="url" href="/blog/2020/10/30/0.1.1-released">Recoil 0.1.1</a></h2><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2020-10-30T00:00:00.000Z" itemprop="datePublished">October 30, 2020</time> Â· <!-- -->3 min read</div></header><div class="markdown" itemprop="articleBody"><p>Welcome to Recoil version 0.1.1!  This release has performance improvements and introduces several <em>experimental</em> features such as support for React Native, working with Snapshots outside of React, and atom effects for managing side-effects of atoms such as logging, synchronization with external stores, persistence, etc.</p></div><footer class="row docusaurus-mt-lg"><div class="col text--right"><a aria-label="Read more about Recoil 0.1.1" href="/blog/2020/10/30/0.1.1-released"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_d4p0" itemprop="headline"><a itemprop="url" href="/blog/2020/09/15/0.0.11-released">Recoil 0.0.11</a></h2><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2020-09-15T00:00:00.000Z" itemprop="datePublished">September 15, 2020</time> Â· <!-- -->6 min read</div></header><div class="markdown" itemprop="articleBody"><p>Today we are releasing Recoil 0.0.11. It contains bug fixes, new features, better performance, and experimental compatibility with Concurrent Mode. Thank you so much to everyone who contributed to this release!</p></div><footer class="row docusaurus-mt-lg"><div class="col text--right"><a aria-label="Read more about Recoil 0.0.11" href="/blog/2020/09/15/0.0.11-released"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_d4p0" itemprop="headline"><a itemprop="url" href="/blog/2020/06/18/0.0.10-released">Recoil 0.0.10</a></h2><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2020-06-18T00:00:00.000Z" itemprop="datePublished">June 18, 2020</time> Â· <!-- -->8 min read</div></header><div class="markdown" itemprop="articleBody"><p>Recoil 0.0.9 and 0.0.10 is being released with some bug fixes, <a href="#typescript-support">TypeScript support</a>, and a new API for <a href="#recoil-snapshots">Recoil Snapshots</a> to observe, inspect, and manage global Recoil atom state.  Thanks again to everyone who helped make this possible and stay tuned for more exciting developments coming soon!</p></div><footer class="row docusaurus-mt-lg"><div class="col text--right"><a aria-label="Read more about Recoil 0.0.10" href="/blog/2020/06/18/0.0.10-released"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_d4p0" itemprop="headline"><a itemprop="url" href="/blog/2020/05/30/0.0.8-released">Recoil 0.0.8</a></h2><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2020-05-30T00:00:00.000Z" itemprop="datePublished">May 30, 2020</time> Â· <!-- -->4 min read</div></header><div class="markdown" itemprop="articleBody"><p>Today we are releasing Recoil 0.0.8. It contains bug fixes and new features. Thanks so much to everyone who contributed to this release! It&#x27;s been amazing to see so many people contribute.</p></div><footer class="row docusaurus-mt-lg"><div class="col text--right"><a aria-label="Read more about Recoil 0.0.8" href="/blog/2020/05/30/0.0.8-released"><b>Read More</b></a></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learn</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/introduction/core-concepts">Core Concepts</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/recoiljs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/facebookexperimental/Recoil" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy/" target="_blank" rel="noreferrer noopener" class="footer__link-item"><span>Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms/" target="_blank" rel="noreferrer noopener" class="footer__link-item"><span>Terms<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_SRtH"><img src="/img/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo"><img src="/img/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_TMUO themedImage--dark_uzRr footer__logo"></a></div><div class="footer__copyright">Copyright Â© 2022 Facebook, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.989f1cdb.js"></script>
<script src="/assets/js/main.a8049dbb.js"></script>
</body>
</html>